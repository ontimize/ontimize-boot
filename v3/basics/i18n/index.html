<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>I18N System - Ontimize Boot</title>
<meta name="description" content="">


  <meta name="author" content="Imatia Innovation, S.L.">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Ontimize Boot">
<meta property="og:title" content="I18N System">
<meta property="og:url" content="https://ontimize.github.io/ontimize-boot/v3/basics/i18n/">


  <meta property="og:description" content="">











  

  


<link rel="canonical" href="https://ontimize.github.io/ontimize-boot/v3/basics/i18n/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Imatia Innovation, S.L",
      "url": "https://ontimize.github.io/ontimize-boot/v3/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/ontimize-boot/v3/feed.xml" type="application/atom+xml" rel="alternate" title="Ontimize Boot Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>


<!-- For all browsers -->
<link rel="stylesheet" href="/ontimize-boot/v3/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
<link rel="stylesheet" href="/ontimize-boot/v3/assets/css/jstreestyle.css"/>

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/ontimize-boot/v3/assets/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/ontimize-boot/v3/assets/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/ontimize-boot/v3/assets/images/favicon-16x16.png">
<link rel="mask-icon" href="/ontimize-boot/v3/assets/images/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/ontimize-boot/v3/assets/images/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/ontimize-boot/v3/assets/images/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/ontimize-boot/v3/"><img src="/ontimize-boot/v3/assets/images/logo-ontimize.png" alt=""></a>
        
        <a class="site-title" href="/ontimize-boot/v3/">
           
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="https://ontimize.github.io/docs/v3/">Ontimize Docs</a>
            </li>
          <li class="masthead__menu-item">
            <select class="masthead__menu-item-combo" onchange="window.location = this.options[this.selectedIndex].value">
            
              <option value="https://ontimize.github.io/ontimize-boot/v3" selected>3.x.x</option>
            
              <option value="https://ontimize.github.io/ontimize-boot">1.x.x</option>
            
            </select>
          </li>
          
        </ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://ontimize.github.io/ontimize-boot/v3/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1">
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/ontimize-boot/v3/basics" itemprop="item"><span itemprop="name">Basics</span></a>
          <meta itemprop="position" content="2">
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">I18N System</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="I18N System">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">I18N System
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> Table of Contents</h4></header>
              <ul class="toc__menu">
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#prerequisites">Prerequisites</a></li>
  <li>
<a href="#configuring-internationalization-service-in-ontimize-boot">Configuring internationalization service in Ontimize Boot</a>
    <ul>
      <li><a href="#db-configuration">DB configuration</a></li>
      <li><a href="#add-permissions">Add Permissions</a></li>
      <li><a href="#server-configuration">Server configuration</a></li>
      <li><a href="#creation-of-dao-files">Creation of DAO files</a></li>
      <li><a href="#add-i18n-rest-controller">Add I18n Rest Controller</a></li>
    </ul>
  </li>
  <li><a href="#testing-the-i18n-services">Testing the i18n services</a></li>
  <li>
<a href="#uses-of-i18n-rest-controller">Uses of I18n Rest Controller</a>
    <ul>
      <li><a href="#query-bundle-values">Query bundle values</a></li>
      <li><a href="#update-bundle-values">Update bundle values</a></li>
      <li><a href="#insert-bundle-values">Insert bundle values</a></li>
      <li><a href="#delete-bundle-values">Delete bundle values</a></li>
    </ul>
  </li>
</ul>

            </nav>
          </aside>
        
        <h2 id="introduction">Introduction</h2>

<p>Ontimize Bootâ€™s remote internationalization service (<strong>i18n</strong>) allows you to manage the translations of the different languages of the application without having to modify the programs translation files, by storing the translations in the database. The interface implemented by the service is <code class="language-plaintext highlighter-rouge">com.ontimize.jee.common.services.i18n.II18nService</code>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>There are 2 options to follow this tutorial, clone the repository with the initial state and follow the tutorial step by step, or download the final example and see which files are new and which have been updated.</p>

<div class="multiColumnRow multiColumnRowJustify">
  <div class="multiColumn multiColumnGrow">
  <p><strong>Initial project</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/$ git clone https://github.com/ontimize/ontimize-examples
/ontimize-examples$ cd ontimize-examples
/ontimize-examples$ git checkout boot-i18n-3.x.x-initial
</code></pre></div></div>

   
</div>
<div class="verticalDivider"></div>
<div class="multiColumn multiColumnGrow">

  <p><strong>Final example</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/$ git clone https://github.com/ontimize/ontimize-examples
/ontimize-examples$ cd ontimize-examples
/ontimize-examples$ git checkout boot-i18n-3.x.x
</code></pre></div></div>



  </div>
  </div>

<h2 id="configuring-internationalization-service-in-ontimize-boot">Configuring internationalization service in Ontimize Boot</h2>

<p>In this complete tutorial, we are going to create a backend for an application from scratch, including the database with different tables, configuring the server, creating the necessary <strong>DAO</strong> files and implementing the service.</p>

<h3 id="db-configuration">DB configuration</h3>

<p>If the configuration table does not exist in the DB, the database tables necessary for the operation of the service are created, one in which the names of the translation bundles shall be stored, and another in which the translations and the bundle to which they belong shall be stored:</p>

<p><strong>SQL (HSQL) Statement</strong></p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="code"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TI18N</span><span class="p">(</span><span class="n">ID_I18N</span> <span class="nb">INTEGER</span> <span class="k">GENERATED</span> <span class="k">BY</span> <span class="k">DEFAULT</span> <span class="k">AS</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">CLASS_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">150</span><span class="p">),</span><span class="n">I18N_DESCRIPTION</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">));</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TI18N_VALUE</span><span class="p">(</span><span class="n">ID_I18N_VALUE</span> <span class="nb">INTEGER</span> <span class="k">GENERATED</span> <span class="k">BY</span> <span class="k">DEFAULT</span> <span class="k">AS</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">ID_I18N</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="nv">"KEY"</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">),</span><span class="n">ES_ES</span> <span class="n">LONGVARCHAR</span><span class="p">,</span><span class="n">EN_US</span> <span class="n">LONGVARCHAR</span><span class="p">,</span><span class="n">ES_ES_GL</span> <span class="n">LONGVARCHAR</span><span class="p">);</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>In the first table (the one named <strong>TI18N</strong>) we will add a bundle to link all resources of the <strong>TI18N_VALUE</strong> table.</p>

<p><strong>SQL (HSQL) Statement</strong></p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="n">CLASS_NAME</span><span class="p">,</span> <span class="n">I18N_DESCRIPTION</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'i18n.bundle'</span><span class="p">,</span> <span class="s1">'Resource bundle in database'</span><span class="p">);</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>In the case of the second table (the one named <strong>TI18N_VALUE</strong>) it will contain a column with the name of each Locale accepted by the application.</p>

<p><strong>SQL (HSQL) Statement</strong></p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td>
<td class="code"><pre><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'ID'</span><span class="p">,</span><span class="s1">'Id. Candidato'</span><span class="p">,</span><span class="s1">'Candidate id'</span><span class="p">,</span><span class="s1">'Id. Candidato'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'PHOTO'</span><span class="p">,</span><span class="s1">'Foto'</span><span class="p">,</span><span class="s1">'Photo'</span><span class="p">,</span><span class="s1">'Foto'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'NAME'</span><span class="p">,</span><span class="s1">'Nombre'</span><span class="p">,</span><span class="s1">'Name'</span><span class="p">,</span><span class="s1">'Nome'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'SURNAME'</span><span class="p">,</span><span class="s1">'Apellido'</span><span class="p">,</span><span class="s1">'Surname'</span><span class="p">,</span><span class="s1">'Apelido'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'BIRTHDAY'</span><span class="p">,</span><span class="s1">'Fecha de Nacimiento'</span><span class="p">,</span><span class="s1">'Birthday'</span><span class="p">,</span><span class="s1">'Data de nacemento'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'DNI'</span><span class="p">,</span><span class="s1">'DNI Candidato'</span><span class="p">,</span><span class="s1">'Candidate DNI'</span><span class="p">,</span><span class="s1">'DNI Candidato'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'PHONE'</span><span class="p">,</span><span class="s1">'Telefono'</span><span class="p">,</span><span class="s1">'Phone'</span><span class="p">,</span><span class="s1">'Telefono'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'EMAIL'</span><span class="p">,</span><span class="s1">'Correo electronico'</span><span class="p">,</span><span class="s1">'E-mail'</span><span class="p">,</span><span class="s1">'Correo electronico'</span><span class="p">);</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<h3 id="add-permissions">Add Permissions</h3>

<p>The <code class="language-plaintext highlighter-rouge">com.ontimize.jee.common.services.i18n.II18nService</code> service has several methods that we will have to add to the permissions to be able to execute the methods.</p>

<p><strong>SQL (HSQL) Statement</strong></p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td>
<td class="code"><pre><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.common.services.i18n.II18nService/getAllResourceBundles'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.common.services.i18n.II18nService/getBundles'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.common.services.i18n.II18nService/getBundle'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.common.services.i18n.II18nService/getAvailableBundles'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.common.services.i18n.II18nService/getAvailableLocales'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.common.services.i18n.II18nService/updateBundleValues'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.common.services.i18n.II18nService/deleteBundleValues'</span><span class="p">);</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Add all permissions to the user role <code class="language-plaintext highlighter-rouge">demo</code>.</p>

<p><strong>SQL (HSQL) Statement</strong></p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td>
<td class="code"><pre><span class="k">INSERT</span>
	<span class="k">INTO</span>
	<span class="n">TROLE_SERVER_PERMISSION</span> <span class="n">tsp</span> <span class="p">(</span><span class="n">ID_SERVER_PERMISSION</span><span class="p">,</span> <span class="n">ID_ROLENAME</span><span class="p">)</span>
<span class="k">SELECT</span>
	<span class="n">ID_SERVER_PERMISSION</span><span class="p">,</span>
	<span class="p">(</span>
	<span class="k">SELECT</span>
		<span class="n">ID_ROLENAME</span>
	<span class="k">FROM</span>
		<span class="n">TUSER_ROLE</span>
	<span class="k">WHERE</span>
		<span class="n">USER_</span> <span class="o">=</span> <span class="s1">'demo'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">ID_ROLENAME</span>
<span class="k">FROM</span>
	<span class="n">TSERVER_PERMISSION</span> <span class="n">tp</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">TROLE_SERVER_PERMISSION</span> <span class="n">tsp</span> <span class="k">ON</span>
	<span class="n">tp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span> <span class="o">=</span> <span class="n">tsp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span>
<span class="k">WHERE</span>
	<span class="n">tsp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span> <span class="k">IS</span> <span class="k">NULL</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<h3 id="server-configuration">Server configuration</h3>

<p>To configure this service, a new configuration fragment shall be added to the application.yml file.</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="code"><pre><span class="na">ontimize</span><span class="pi">:</span>
   <span class="na">i18n</span><span class="pi">:</span>
      <span class="na">ref-bundle-repository</span><span class="pi">:</span> <span class="s">OCDatabaseBundleDao</span>
      <span class="na">bundle-key-column</span><span class="pi">:</span> <span class="s">ID_I18N</span>
      <span class="na">bundle-class-name-column</span><span class="pi">:</span> <span class="s">CLASS_NAME</span>
      <span class="na">bundle-description-column</span><span class="pi">:</span> <span class="s">I18N_DESCRIPTION</span>
      <span class="na">ref-bundle-value-repository</span><span class="pi">:</span> <span class="s">OCDatabaseBundleValueDao</span>
      <span class="na">bundle-value-text-key-column</span><span class="pi">:</span> <span class="s">KEY</span>
      <span class="na">bundle-value-key-column</span><span class="pi">:</span> <span class="s">ID_I18N_VALUE</span>
      <span class="na">engine</span><span class="pi">:</span> <span class="s">default</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>This configuration indicates the keys and values to be stored in the database. The database table is the one corresponding to the bean described in the <strong>ref-bundle-repository: OCDatabaseBundleDao</strong> attribute.</p>

<h3 id="creation-of-dao-files">Creation of DAO files</h3>

<p>It is necessary to create the <strong>DAO</strong>s that reflect the new DB tables we have created.</p>

<div class="multiColumnRow">
  <div class="multiColumn jstreeloader">
<ul>
  <li data-jstree='{"opened":true, "icon":"fas fa-folder-open"}'>
  ontimize-examples
  <ul>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-api
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  api
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      service
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>ICandidateService.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>IUserService.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-boot
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-file"}'>ServerApplication.java</li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          resources
          <ul>
            <li data-jstree='{"icon":"fas fa-file"}'>application.yml</li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-model
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          db
          <ul>
            <li data-jstree='{"icon":"fas fa-file"}'>templateDB.properties</li>
            <li data-jstree='{"icon":"fas fa-file"}'>templateDB.txt</li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  model
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      dao
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateDao.java</li>
                        <li data-jstree='{"selected":true,"icon":"fas fa-file"}'>OCDatabaseBundleDao.java</li>
                        <li data-jstree='{"selected":true,"icon":"fas fa-file"}'>OCDatabaseBundleValueDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserRoleDao.java</li>
                      </ul>
                      </li>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      service
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateService.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserService.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          resources
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            dao
            <ul>
              <li data-jstree='{"icon":"fas fa-file"}'>CandidateDao.xml</li>
              <li data-jstree='{"selected":true,"icon":"fas fa-file"}'>OCDatabaseBundleDao.xml</li>
              <li data-jstree='{"selected":true,"icon":"fas fa-file"}'>OCDatabaseBundleValueDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>placeholders.properties</li>
              <li data-jstree='{"icon":"fas fa-file"}'>RoleDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>RoleServerPermissionDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>ServerPermissionDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>UserDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>UserRoleDao.xml</li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-ws
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  ws
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      rest
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>MainRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>TestRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserRestController.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-file"}'>.gitignore</li>
    <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    <li data-jstree='{"icon":"fas fa-file"}'>README.md</li>
  </ul>
  </li>
</ul>
  </div>
  <div class="multiColumn">
  <p>First we will create the *.xml files.</p>


  <p><strong>OCDatabaseBundleDao.xml</strong></p>
   

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
<td class="code"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
	<span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
	<span class="na">table=</span><span class="s">"TI18N"</span> <span class="na">datasource=</span><span class="s">"mainDataSource"</span>
	<span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span>
	<span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;DeleteKeys&gt;</span>
		<span class="nt">&lt;Column&gt;</span>ID_I18N<span class="nt">&lt;/Column&gt;</span>
	<span class="nt">&lt;/DeleteKeys&gt;</span>
	<span class="nt">&lt;UpdateKeys&gt;</span>
		<span class="nt">&lt;Column&gt;</span>ID_I18N<span class="nt">&lt;/Column&gt;</span>
	<span class="nt">&lt;/UpdateKeys&gt;</span>
	<span class="nt">&lt;GeneratedKey&gt;</span>ID_I18N<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span>
</pre></td>
</tr></tbody></table></code></pre></figure>



<p><strong>OCDatabaseBundleValueDao.xml</strong></p>


<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td>
<td class="code"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
	<span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
	<span class="na">table=</span><span class="s">"TI18N_VALUE"</span> <span class="na">datasource=</span><span class="s">"mainDataSource"</span>
	<span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span>
	<span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;DeleteKeys&gt;</span>
		<span class="nt">&lt;Column&gt;</span>ID_I18N<span class="nt">&lt;/Column&gt;</span>
		<span class="nt">&lt;Column&gt;</span>KEY<span class="nt">&lt;/Column&gt;</span>
	<span class="nt">&lt;/DeleteKeys&gt;</span>
	<span class="nt">&lt;UpdateKeys&gt;</span>
		<span class="nt">&lt;Column&gt;</span>ID_I18N<span class="nt">&lt;/Column&gt;</span>
		<span class="nt">&lt;Column&gt;</span>KEY<span class="nt">&lt;/Column&gt;</span>
	<span class="nt">&lt;/UpdateKeys&gt;</span>
	<span class="nt">&lt;GeneratedKey&gt;</span>ID_I18N_VALUE<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span>
</pre></td>
</tr></tbody></table></code></pre></figure>


<p>In the *.java files we indicate that it is a repository whose name will be <em>OCDatabaseBundleDao</em> and <em>OCDatabaseBundleValueDao</em> respectively, using the <code class="language-plaintext highlighter-rouge">@Repository</code> annotation. With the <code class="language-plaintext highlighter-rouge">@Lazy</code> annotation, we indicate that the loading is delayed until it is completely necessary, and the <code class="language-plaintext highlighter-rouge">@ConfigurationFile</code> annotation allows us to configure this <strong>DAO</strong> using the <strong>XML</strong> file and an additional file where some features common to several <strong>DAO</strong>s can be stored, such as the schema they belong to.</p>


<p><strong>OCDatabaseBundleDao.java</strong></p>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
<td class="code"><pre><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"OCDatabaseBundleDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/OCDatabaseBundleDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OCDatabaseBundleDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="nf">OCDatabaseBundleDao</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></td>
</tr></tbody></table></code></pre></figure>


<p><strong>OCDatabaseBundleValueDao.java</strong></p>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
<td class="code"><pre><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"OCDatabaseBundleValueDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/OCDatabaseBundleValueDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OCDatabaseBundleValueDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="nf">OCDatabaseBundleValueDao</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></td>
</tr></tbody></table></code></pre></figure>


</div>
</div>

<h3 id="add-i18n-rest-controller">Add I18n Rest Controller</h3>

<div class="multiColumnRow">
  <div class="multiColumn jstreeloader">
<ul>
  <li data-jstree='{"opened":true, "icon":"fas fa-folder-open"}'>
  ontimize-examples
  <ul>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-api
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  api
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      service
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>ICandidateService.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>IUserService.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-boot
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-file"}'>ServerApplication.java</li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          resources
          <ul>
            <li data-jstree='{"icon":"fas fa-file"}'>application.yml</li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-model
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          db
          <ul>
            <li data-jstree='{"icon":"fas fa-file"}'>templateDB.properties</li>
            <li data-jstree='{"icon":"fas fa-file"}'>templateDB.txt</li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  model
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      dao
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleValueDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserRoleDao.java</li>
                      </ul>
                      </li>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      service
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateService.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserService.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          resources
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            dao
            <ul>
              <li data-jstree='{"icon":"fas fa-file"}'>CandidateDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleValueDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>placeholders.properties</li>
              <li data-jstree='{"icon":"fas fa-file"}'>RoleDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>RoleServerPermissionDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>ServerPermissionDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>UserDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>UserRoleDao.xml</li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-ws
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  ws
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      rest
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateRestController.java</li>
                        <li data-jstree='{"selected":true,"icon":"fas fa-file"}'>I18nRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>MainRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>TestRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserRestController.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-file"}'>.gitignore</li>
    <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    <li data-jstree='{"icon":"fas fa-file"}'>README.md</li>
  </ul>
  </li>
</ul>
  </div>
  <div class="multiColumn">

  <p><strong>I18nRestController.java</strong></p>

<p>With the tag <code class="language-plaintext highlighter-rouge">@RequestMapping</code> we indicate the route through which the rest service will receive the requests.
  With the tag <code class="language-plaintext highlighter-rouge">@RequestBody</code> we receive the data that were sent in the rest request.
  In this class we create a method that retrieves the translations of a bundle that we have specified in the language that we have indicated.</p>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
</pre></td>
<td class="code"><pre><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.ws.core.rest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Enumeration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Locale</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ResourceBundle</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Qualifier</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.ComponentScan</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.MediaType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMethod</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.dto.EntityResult</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.dto.EntityResultMapImpl</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.services.i18n.II18nService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.rest.InsertParameter</span><span class="o">;</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/i18n"</span><span class="o">)</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="n">basePackageClasses</span> <span class="o">=</span> <span class="o">{</span> <span class="n">com</span><span class="o">.</span><span class="na">ontimize</span><span class="o">.</span><span class="na">jee</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">services</span><span class="o">.</span><span class="na">i18n</span><span class="o">.</span><span class="na">II18nService</span><span class="o">.</span><span class="na">class</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">I18nRestController</span> <span class="o">{</span>

	<span class="nd">@Autowired</span>
	<span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"I18nService"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">II18nService</span> <span class="n">iI18nService</span><span class="o">;</span>

	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/bundle"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">,</span> <span class="n">produces</span> <span class="o">=</span> <span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">EntityResult</span><span class="o">&gt;</span> <span class="nf">getBundle</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">InsertParameter</span> <span class="n">parameter</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">parameter</span><span class="o">.</span><span class="na">getData</span><span class="o">();</span>
		<span class="nc">ResourceBundle</span> <span class="n">resource</span> <span class="o">=</span> <span class="n">iI18nService</span><span class="o">.</span><span class="na">getBundle</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"bundle"</span><span class="o">)),</span>
				<span class="k">new</span> <span class="nf">Locale</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"lang"</span><span class="o">)),</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"country"</span><span class="o">))));</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">EntityResult</span><span class="o">&gt;(</span><span class="n">bundleToEntityResult</span><span class="o">(</span><span class="n">resource</span><span class="o">),</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="nc">EntityResult</span> <span class="nf">bundleToEntityResult</span><span class="o">(</span><span class="nc">ResourceBundle</span> <span class="n">resource</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">values</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
		<span class="nc">Enumeration</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="na">getKeys</span><span class="o">();</span>
		<span class="nc">EntityResult</span> <span class="n">eR</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EntityResultMapImpl</span><span class="o">();</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">keys</span><span class="o">.</span><span class="na">hasMoreElements</span><span class="o">())</span> <span class="o">{</span>
			<span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">keys</span><span class="o">.</span><span class="na">nextElement</span><span class="o">();</span>
			<span class="n">values</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"key"</span><span class="o">,</span> <span class="n">key</span><span class="o">);</span>
			<span class="n">values</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"value"</span><span class="o">,</span> <span class="n">resource</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">key</span><span class="o">));</span>
			<span class="n">eR</span><span class="o">.</span><span class="na">addRecord</span><span class="o">(</span><span class="n">values</span><span class="o">);</span>
			<span class="n">values</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">eR</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></td>
</tr></tbody></table></code></pre></figure>


</div>
</div>

<h2 id="testing-the-i18n-services">Testing the i18n services</h2>

<p>To test the i18n service we will use REST requests. For this, the following query will be executed: <strong>localhost:33333/i18n/bundle</strong></p>

<table>
  <thead>
    <tr>
      <th>Element</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>localhost:33333</td>
      <td>Indicates the host</td>
    </tr>
    <tr>
      <td>/i18n</td>
      <td>Indicates the service to be queried</td>
    </tr>
    <tr>
      <td>/bundle</td>
      <td>Indicates the request mapping class</td>
    </tr>
  </tbody>
</table>

<p>The request types can only be <em>POST</em> and the request body has to have the following structure:</p>

<table>
  <thead>
    <tr>
      <th>Element</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>bundle</td>
      <td>Indicates the class name of the bundle specified in the database</td>
    </tr>
    <tr>
      <td>lang</td>
      <td>Indicates the language of the bundle. It needs to be lowercase.</td>
    </tr>
    <tr>
      <td>country</td>
      <td>Indicates the country of the language. It needs to be uppercase.</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Request type</th>
      <th>Query</th>
      <th>URL</th>
      <th>Service method</th>
      <th>Body request</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>POST</td>
      <td>query</td>
      <td>localhost:33333/i18n/bundle</td>
      <td>getBundle</td>
      <td>Example below</td>
    </tr>
  </tbody>
</table>

<p><strong>Body request:</strong></p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i18n.bundle"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
  </span></code></pre></figure>

<p>The authorization used for these requests is authorization of the type BASIC. In this case, the access must be done with a user and password example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    User: demo
Password: demouser
</code></pre></div></div>

<h2 id="uses-of-i18n-rest-controller">Uses of I18n Rest Controller</h2>

<p>The i18n interface has a few methods for managing bundles or translations. Next in this example, we will test the bundle values CRUD(Create, Read, Update, Delete) methods.</p>

<p class="notice--info"><strong>Note:</strong> To simplify the code being written, three dots (â€¦) may appear in some parts of the code. This indicates that there may be previous code before and after those dots.</p>

<h3 id="query-bundle-values">Query bundle values</h3>

<p>To query the bundle values we create a method that receieves the bundle class, the language to query and the country of this language.</p>

<p class="notice--info"><strong>Note:</strong> The code to query the values of a bundle is in the previous <a href="/ontimize-boot/v3/basics/i18n/#add-i18n-rest-controller">section</a>.</p>

<h3 id="update-bundle-values">Update bundle values</h3>

<p>To update the bundle values we create a method that receieves the translations to modify of a bundle that we have specified.</p>

<p><strong>Code</strong></p>

<div class="multiColumnRow">
  <div class="multiColumn jstreeloader">
<ul>
  <li data-jstree='{"opened":true, "icon":"fas fa-folder-open"}'>
  ontimize-examples
  <ul>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-api
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  api
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      service
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>ICandidateService.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>IUserService.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-boot
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-file"}'>ServerApplication.java</li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          resources
          <ul>
            <li data-jstree='{"icon":"fas fa-file"}'>application.yml</li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-model
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          db
          <ul>
            <li data-jstree='{"icon":"fas fa-file"}'>templateDB.properties</li>
            <li data-jstree='{"icon":"fas fa-file"}'>templateDB.txt</li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  model
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      dao
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleValueDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserRoleDao.java</li>
                      </ul>
                      </li>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      service
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateService.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserService.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          resources
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            dao
            <ul>
              <li data-jstree='{"icon":"fas fa-file"}'>CandidateDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleValueDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>placeholders.properties</li>
              <li data-jstree='{"icon":"fas fa-file"}'>RoleDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>RoleServerPermissionDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>ServerPermissionDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>UserDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>UserRoleDao.xml</li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-ws
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  ws
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      rest
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateRestController.java</li>
                        <li data-jstree='{"selected":true,"icon":"fas fa-file"}'>I18nRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>MainRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>TestRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserRestController.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-file"}'>.gitignore</li>
    <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    <li data-jstree='{"icon":"fas fa-file"}'>README.md</li>
  </ul>
  </li>
</ul>
  </div>
  <div class="multiColumn">

  <p><strong>I18nRestController.java</strong></p>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td>
<td class="code"><pre><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.ws.core.rest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.gui.i18n.DatabaseBundleValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.rest.UpdateParameter</span><span class="o">;</span>

<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/i18n"</span><span class="o">)</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="n">basePackageClasses</span> <span class="o">=</span> <span class="o">{</span> <span class="n">com</span><span class="o">.</span><span class="na">ontimize</span><span class="o">.</span><span class="na">jee</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">services</span><span class="o">.</span><span class="na">i18n</span><span class="o">.</span><span class="na">II18nService</span><span class="o">.</span><span class="na">class</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">I18nRestController</span> <span class="o">{</span>

	<span class="nd">@Autowired</span>
	<span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"I18nService"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">II18nService</span> <span class="n">iI18nService</span><span class="o">;</span>

  <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/bundle/update"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">PUT</span><span class="o">,</span> <span class="n">produces</span> <span class="o">=</span> <span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateBundleValues</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">UpdateParameter</span> <span class="n">parameter</span><span class="o">)</span> <span class="o">{</span>

		<span class="nc">DatabaseBundleValues</span> <span class="n">values</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DatabaseBundleValues</span><span class="o">(</span><span class="n">iI18nService</span><span class="o">.</span><span class="na">getAvailableLocales</span><span class="o">());</span>
		<span class="nc">String</span> <span class="n">bundleClass</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">parameter</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"bundleClass"</span><span class="o">));</span>
		<span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">parameter</span><span class="o">.</span><span class="na">getFilter</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"key"</span><span class="o">));</span>
		<span class="nc">ArrayList</span> <span class="n">e</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ArrayList</span><span class="o">)</span> <span class="n">parameter</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"bundleValues"</span><span class="o">);</span>
		<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">translationValues</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span> 
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">e</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;)</span> <span class="n">e</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
			<span class="n">translationValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"language"</span><span class="o">)),</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"value"</span><span class="o">));</span>
		<span class="o">}</span>
		<span class="n">values</span><span class="o">.</span><span class="na">addBundleValue</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">bundleClass</span><span class="o">,</span> <span class="n">translationValues</span><span class="o">);</span>
		<span class="n">iI18nService</span><span class="o">.</span><span class="na">updateBundleValues</span><span class="o">(</span><span class="n">values</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>
</pre></td>
</tr></tbody></table></code></pre></figure>


</div>
</div>

<p><strong>REST request</strong></p>

<p>The request to execute is the following: <strong>localhost:33333/i18n/bundle/update</strong></p>

<table>
  <thead>
    <tr>
      <th>Element</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>localhost:33333</td>
      <td>Indicates the host</td>
    </tr>
    <tr>
      <td>/i18n</td>
      <td>Indicates the service to be queried</td>
    </tr>
    <tr>
      <td>/bundle/update</td>
      <td>Indicates the request mapping class</td>
    </tr>
  </tbody>
</table>

<p>The request types can only be <em>PUT</em> and the request body has to have the following structure:</p>

<table>
  <thead>
    <tr>
      <th>Element</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>Indicates the key of the value to be translated.</td>
    </tr>
    <tr>
      <td>bundleClass</td>
      <td>Indicates the class name of the bundle specified in the database.</td>
    </tr>
    <tr>
      <td>bundleValues</td>
      <td>Indicates the values of the translation to be modified.</td>
    </tr>
  </tbody>
</table>

<p><strong>Body request:</strong></p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
 </span><span class="nl">"filter"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="w">
 </span><span class="p">},</span><span class="w">   
 </span><span class="nl">"data"</span><span class="p">:</span><span class="w">
 </span><span class="p">{</span><span class="w">
     </span><span class="nl">"bundleClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i18n.bundle"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"bundleValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nl">"language"</span><span class="p">:</span><span class="s2">"es_ES"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"ejemplo@ejemplo.com"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nl">"language"</span><span class="p">:</span><span class="s2">"en_US"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"example@example.com"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nl">"language"</span><span class="p">:</span><span class="s2">"gl_ES"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"exemplo@exemplo.com"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<h3 id="insert-bundle-values">Insert bundle values</h3>

<p>The method to update the bundle values explained in the previous point also allows creating a new value in the case of the specified value does not exist in the database.</p>

<p><strong>DatabaseI18nEngine.java</strong></p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
<span class="nc">Object</span> <span class="n">key</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getBundleValueKey</span><span class="o">(</span><span class="n">filter</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// update</span>
    <span class="n">filter</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">bundleValuesKeyColumn</span><span class="o">,</span> <span class="n">key</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">daoBundleValues</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">hValues</span><span class="o">,</span> <span class="n">filter</span><span class="o">);</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="c1">// insert</span>
    <span class="n">hValues</span><span class="o">.</span><span class="na">putAll</span><span class="o">(</span><span class="n">filter</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">daoBundleValues</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">hValues</span><span class="o">);</span>
<span class="o">}</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span></code></pre></figure>

<h3 id="delete-bundle-values">Delete bundle values</h3>

<p>To delete the bundle values we create a method that receives the bundle class and the key of the bundle values.</p>

<div class="multiColumnRow">
  <div class="multiColumn jstreeloader">
<ul>
  <li data-jstree='{"opened":true, "icon":"fas fa-folder-open"}'>
  ontimize-examples
  <ul>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-api
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  api
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      service
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>ICandidateService.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>IUserService.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-boot
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-file"}'>ServerApplication.java</li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          resources
          <ul>
            <li data-jstree='{"icon":"fas fa-file"}'>application.yml</li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-model
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          db
          <ul>
            <li data-jstree='{"icon":"fas fa-file"}'>templateDB.properties</li>
            <li data-jstree='{"icon":"fas fa-file"}'>templateDB.txt</li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  model
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      dao
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleValueDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserDao.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserRoleDao.java</li>
                      </ul>
                      </li>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      service
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateService.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserService.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          resources
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            dao
            <ul>
              <li data-jstree='{"icon":"fas fa-file"}'>CandidateDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>OCDatabaseBundleValueDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>placeholders.properties</li>
              <li data-jstree='{"icon":"fas fa-file"}'>RoleDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>RoleServerPermissionDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>ServerPermissionDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>UserDao.xml</li>
              <li data-jstree='{"icon":"fas fa-file"}'>UserRoleDao.xml</li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-folder-open"}'>
    projectwiki-ws
    <ul>
      <li data-jstree='{"icon":"fas fa-folder-open"}'>
      src
      <ul>
        <li data-jstree='{"icon":"fas fa-folder-open"}'>
        main
        <ul>
          <li data-jstree='{"icon":"fas fa-folder-open"}'>
          java
          <ul>
            <li data-jstree='{"icon":"fas fa-folder-open"}'>
            com
            <ul>
              <li data-jstree='{"icon":"fas fa-folder-open"}'>
              ontimize
              <ul>
                <li data-jstree='{"icon":"fas fa-folder-open"}'>
                projectwiki
                <ul>
                  <li data-jstree='{"icon":"fas fa-folder-open"}'>
                  ws
                  <ul>
                    <li data-jstree='{"icon":"fas fa-folder-open"}'>
                    core
                    <ul>
                      <li data-jstree='{"icon":"fas fa-folder-open"}'>
                      rest
                      <ul>
                        <li data-jstree='{"icon":"fas fa-file"}'>CandidateRestController.java</li>
                        <li data-jstree='{"selected":true,"icon":"fas fa-file"}'>I18nRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>MainRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>TestRestController.java</li>
                        <li data-jstree='{"icon":"fas fa-file"}'>UserRestController.java</li>
                      </ul>
                      </li>
                    </ul>
                    </li>
                  </ul>
                  </li>
                </ul>
                </li>
              </ul>
              </li>
            </ul>
            </li>
          </ul>
          </li>
        </ul>
        </li>
      </ul>
      </li>
      <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    </ul>
    </li>
    <li data-jstree='{"icon":"fas fa-file"}'>.gitignore</li>
    <li data-jstree='{"icon":"fas fa-file"}'>pom.xml</li>
    <li data-jstree='{"icon":"fas fa-file"}'>README.md</li>
  </ul>
  </li>
</ul>
  </div>
  <div class="multiColumn">

  <p><strong>I18nRestController.java</strong></p>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td>
<td class="code"><pre><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.ws.core.rest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.gui.i18n.DatabaseBundleValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.rest.DeleteParameter</span><span class="o">;</span>

<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/i18n"</span><span class="o">)</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="n">basePackageClasses</span> <span class="o">=</span> <span class="o">{</span> <span class="n">com</span><span class="o">.</span><span class="na">ontimize</span><span class="o">.</span><span class="na">jee</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">services</span><span class="o">.</span><span class="na">i18n</span><span class="o">.</span><span class="na">II18nService</span><span class="o">.</span><span class="na">class</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">I18nRestController</span> <span class="o">{</span>

	<span class="nd">@Autowired</span>
	<span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"I18nService"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">II18nService</span> <span class="n">iI18nService</span><span class="o">;</span>

  <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/bundle/delete"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">DELETE</span><span class="o">,</span> <span class="n">produces</span> <span class="o">=</span> <span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteBundleValues</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">DeleteParameter</span> <span class="n">parameter</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">DatabaseBundleValues</span> <span class="n">values</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DatabaseBundleValues</span><span class="o">(</span><span class="n">iI18nService</span><span class="o">.</span><span class="na">getAvailableLocales</span><span class="o">());</span>

		<span class="nc">String</span> <span class="n">bundleClass</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">parameter</span><span class="o">.</span><span class="na">getFilter</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"bundleClass"</span><span class="o">));</span>
		<span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">parameter</span><span class="o">.</span><span class="na">getFilter</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"key"</span><span class="o">));</span>
		
		<span class="n">values</span><span class="o">.</span><span class="na">addBundleValue</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">bundleClass</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
		<span class="n">iI18nService</span><span class="o">.</span><span class="na">deleteBundleValues</span><span class="o">(</span><span class="n">values</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>
</pre></td>
</tr></tbody></table></code></pre></figure>


</div>
</div>

<p>The request to execute is the following: <strong>localhost:33333/i18n/bundle/delete</strong></p>

<table>
  <thead>
    <tr>
      <th>Element</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>localhost:33333</td>
      <td>Indicates the host</td>
    </tr>
    <tr>
      <td>/i18n</td>
      <td>Indicates the service to be queried</td>
    </tr>
    <tr>
      <td>/bundle/delete</td>
      <td>Indicates the request mapping class</td>
    </tr>
  </tbody>
</table>

<p>The request types can only be <em>DELETE</em> and the request body has to have the following structure:</p>

<table>
  <thead>
    <tr>
      <th>Element</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>bundleClass</td>
      <td>Indicates the class name of the bundle specified in the database.</td>
    </tr>
    <tr>
      <td>key</td>
      <td>Indicates the key of the value to be translated.</td>
    </tr>
  </tbody>
</table>

<p><strong>Body Request</strong></p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
 </span><span class="nl">"filter"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"bundleClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i18n.bundle"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure>


        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/imatiainnova" rel="noopener noreferrer" target="_blank"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/company/imatia-innovation/" rel="noopener noreferrer" target="_blank"><i class="fab fa-fw fa-linkedin-in" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://github.com/ontimize/ontimize-boot" rel="noopener noreferrer" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/ontimize-boot/v3/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">Â© 2021 Imatia Innovation, S.L. Powered by <a href="https://jekyllrb.com" rel="noopener noreferrer" target="_blank">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="noopener noreferrer" target="_blank">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/ontimize-boot/v3/assets/js/main.min.js"></script>











  </body>
</html>
